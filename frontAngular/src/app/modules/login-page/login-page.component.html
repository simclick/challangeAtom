<div class="auth auth--light">
  <section class="auth__card" role="form" aria-labelledby="loginTitle" aria-describedby="loginDesc">
    <header class="auth__card-header">
      <h2 id="loginTitle">Iniciar sesión</h2>
      <p id="loginDesc">Accede con tu correo para gestionar tus tareas.</p>
    </header>

    <form [formGroup]="form" (ngSubmit)="submit()" class="auth__form">
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Correo</mat-label>
 
        <input
          matInput type="email" formControlName="email"
          autocomplete="email" placeholder="tu@correo.com"
          [attr.aria-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
          [attr.aria-errormessage]="emailErrorId"
          aria-describedby="emailHelp"
        />
        <mat-hint id="emailHelp">Usa tu correo de acceso</mat-hint>
        <mat-error *ngIf="form.get('email')?.hasError('required')" [id]="emailErrorId">
          El correo es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('email')?.hasError('email')" [id]="emailErrorId">
          Correo inválido.
        </mat-error>
      </mat-form-field>

      <button
        mat-raised-button color="primary" class="auth__submit"
        [disabled]="form.invalid || sending"
        [attr.aria-disabled]="form.invalid || sending"
      >
        <mat-progress-spinner *ngIf="sending"
          class="btn-spinner" mode="indeterminate" diameter="18" strokeWidth="3"
          role="status" aria-live="polite" aria-label="Enviando">
        </mat-progress-spinner>
        <span *ngIf="!sending">Entrar</span>
      </button>
    </form>

 
  </section>
</div>
